<header class="site-header">
  <div class="wrapper">
    {%- assign default_paths = site.pages | map: "path" -%} {%- assign
    page_paths = site.minima.nav_pages | default: default_paths -%} {%- assign
    page_titles = site.pages | map: 'title' | compact %}
    <a class="site-title" rel="author" href="{{ '/' | relative_url }}"
      >{{ site.title | escape }}</a
    >

    {%- unless page_titles == empty %}
    <nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
      <label for="nav-trigger">
        <span class="menu-icon fas fa-bars fa-lg"></span>
      </label>

      <div class="drawer-container">
        <div class="drawer">
          <nav>
            <ul>
              {% assign nav_pages = site.pages | sort: 'path' %} {% assign
              groups = nav_pages | group_by_exp: "page", "page.path | split: '/'
              | first" %} {% for group in groups %} {% assign folder_name =
              group.name %} {% if folder_name contains '-' %}
              <li>
                <strong
                  >{{ folder_name | split: '-' | last | capitalize }}</strong
                >
                <ul>
                  {% assign sorted_pages = group.items | sort: 'path' %} {% for
                  item in sorted_pages %} {% unless item.name == "index.md" or
                  item.path contains '_site' or item.path contains '_layouts' or
                  item.path contains '_includes' %}
                  <li>
                    <a href="{{ item.url | relative_url }}">{{ item.title }}</a>
                  </li>
                  {% endunless %} {% endfor %}
                </ul>
              </li>
              {% endif %} {% endfor %}
            </ul>
          </nav>
        </div>
      </div>
      <div class="slab">{%- include nav-items.html paths = page_paths %}</div>
    </nav>
    {%- endunless %}
  </div>
</header>
